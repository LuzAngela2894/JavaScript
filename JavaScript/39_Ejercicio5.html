<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ejercicio 5</title>
  </head>
  <body>
    <h1>Ejercicio 5</h1>
    <script>
      /*
        15) Programa una función para convertir números de base binaria a decimal y viceversa, pe. miFuncion(100,2) devolverá 4 base 10.
        16) Programa una función que devuelva el monto final después de aplicar un descuento a una cantidad dada, pe. miFuncion(1000, 20) devolverá 800.
        17) Programa una función que dada una fecha válida determine cuantos años han pasado hasta el día de hoy, pe. miFuncion(new Date(1984,4,23)) devolverá 35 años (en 2020).
        */
      console.log("Ejercicio 5.15");
      const convertirBinarioDecimal = (
        numero = undefined,
        base = undefined
      ) => {
        if (numero === undefined)
          return console.warn("No has ingresado un número a convertir");
        if (typeof numero !== "number")
          return console.error(
            `El valor "${numero}" ingresado, NO es un número`
          );
        if (base === undefined)
          return console.warn("No has ingresado una base a convertir");
        if (typeof base !== "number")
          return console.error(`El valor "${base}" ingresado, NO es un número`);
        if (!/(2|10)/.test(base))
          return console.error("El tipo de base a convertir NO es válido");
        if (base === 2) {
          return console.info(
            `El número ${numero} base ${base} = ${parseInt(
              numero,
              base
            )} base 10`
          );
        } else if (base === 10) {
          return console.info(
            `El número ${numero} base ${base} = ${numero.toString(base)} base 2`
          );
        }
      };
      convertirBinarioDecimal();
      convertirBinarioDecimal(100, 2);
      convertirBinarioDecimal(1110010, 2);
      convertirBinarioDecimal("2");
      convertirBinarioDecimal(100);
      convertirBinarioDecimal(4, 10);
      convertirBinarioDecimal(114, 10);
      convertirBinarioDecimal(28, 5);

      console.log("Ejercicio 5.16");
      const montoFinal = (valor = undefined, descuento = 0) => {
        if (valor === undefined)
          return console.warn("No has ingresado ningún valor");
        if (typeof valor !== "number")
          return console.error(
            `El valor "${valor}" ingresado, NO es un número`
          );
        if (valor === 0) return console.warn("El valor no puede ser 0");
        if (Math.sign(valor) === -1)
          return console.error("El valor no puede ser negativo");
        if (typeof descuento !== "number")
          return console.error(
            `El descuento "${descuento}" ingresado, NO es un número`
          );
        if (Math.sign(descuento) === -1)
          return console.error("El descuento no puede ser negativo");
        return console.info(
          `El monto final es de ${Math.round(valor * (1 - descuento / 100))}`
        );
      };
      montoFinal();
      montoFinal(1000, 20);
      montoFinal(500, 10);
      montoFinal(-1000, 20);
      montoFinal(1000, -20);
      montoFinal(1000);
      
      console.log("Ejercicio 5.17");
      const calcularAnios = (fecha = undefined) => {
        if (fecha === undefined)
          return console.warn("No has ingresado una fecha");
        if (!(fecha instanceof Date))
          return console.error("El valor ingresado no es una fecha válida");
        let hoyMenosFecha = new Date().getTime() - fecha.getTime();
        aniosEnMilisegundos = 1000 * 60 * 60 * 24 * 365; //Minutos, Horas, Día, Año
        aniosHumanos = Math.floor(hoyMenosFecha / aniosEnMilisegundos);
        return Math.sign(aniosHumanos) === -1
          ? console.info(
              `Faltan ${Math.abs(
                aniosHumanos
              )} años para el ${fecha.getFullYear()}`
            )
          : Math.sign(aniosHumanos) === 1
          ? console.info(
              `Han pasado ${aniosHumanos} años, desde ${fecha.getFullYear()}`
            )
          : console.info(`El año actual es ${fecha.getFullYear()}`);
      };
      calcularAnios();
      calcularAnios({});
      calcularAnios(false);
      calcularAnios(new Date());
      calcularAnios(new Date(1984, 4, 23));
      calcularAnios(new Date(1994, 9, 28));
      calcularAnios(new Date(2025, 9, 28));
    </script>
  </body>
</html>
